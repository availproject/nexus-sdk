(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,79204,e=>{"use strict";e.s(["ccipRequest",()=>g,"offchainLookup",()=>w,"offchainLookupAbiItem",()=>m,"offchainLookupSignature",()=>y],79204);var t=e.i(7921),a=e.i(40623),r=e.i(49111),s=e.i(37927);class o extends r.BaseError{constructor({callbackSelector:e,cause:t,data:a,extraData:r,sender:o,urls:n}){var c;super(t.shortMessage||"An error occurred while fetching for an offchain result.",{cause:t,metaMessages:[...t.metaMessages||[],(null==(c=t.metaMessages)?void 0:c.length)?"":[],"Offchain Gateway Call:",n&&["  Gateway URL(s):",...n.map(e=>"    ".concat((0,s.getUrl)(e)))],"  Sender: ".concat(o),"  Data: ".concat(a),"  Callback selector: ".concat(e),"  Extra data: ".concat(r)].flat(),name:"OffchainLookupError"})}}class n extends r.BaseError{constructor({result:e,url:t}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:["Gateway URL: ".concat((0,s.getUrl)(t)),"Response: ".concat((0,a.stringify)(e))],name:"OffchainLookupResponseMalformedError"})}}class c extends r.BaseError{constructor({sender:e,to:t}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:["Contract address: ".concat(t),"OffchainLookup sender address: ".concat(e)],name:"OffchainLookupSenderMismatchError"})}}var i=e.i(36953),l=e.i(53960),d=e.i(40094),u=e.i(92713),f=e.i(39912),p=e.i(27766),h=e.i(36550);let y="0x556f1830",m={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function w(e,a){let{blockNumber:r,blockTag:s,data:n,to:i}=a,{args:p}=(0,l.decodeErrorResult)({data:n,abi:[m]}),[y,w,b,R,E]=p,{ccipRead:O}=e,k=O&&"function"==typeof(null==O?void 0:O.request)?O.request:g;try{if(!(0,u.isAddressEqual)(i,y))throw new c({sender:y,to:i});let a=w.includes(h.localBatchGatewayUrl)?await (0,h.localBatchGatewayRequest)({data:b,ccipRequest:k}):await k({data:b,sender:y,urls:w}),{data:o}=await (0,t.call)(e,{blockNumber:r,blockTag:s,data:(0,f.concat)([R,(0,d.encodeAbiParameters)([{type:"bytes"},{type:"bytes"}],[a,E])]),to:i});return o}catch(e){throw new o({callbackSelector:R,cause:e,data:n,extraData:E,sender:y,urls:w})}}async function g(e){let{data:t,sender:r,urls:s}=e,o=Error("An unknown error occurred.");for(let e=0;e<s.length;e++){let l=s[e],d=l.includes("{data}")?"GET":"POST",u="POST"===d?{data:t,sender:r}:void 0,f="POST"===d?{"Content-Type":"application/json"}:{};try{var c;let e,s=await fetch(l.replace("{sender}",r.toLowerCase()).replace("{data}",t),{body:JSON.stringify(u),headers:f,method:d});if(e=(null==(c=s.headers.get("Content-Type"))?void 0:c.startsWith("application/json"))?(await s.json()).data:await s.text(),!s.ok){o=new i.HttpRequestError({body:u,details:(null==e?void 0:e.error)?(0,a.stringify)(e.error):s.statusText,headers:s.headers,status:s.status,url:l});continue}if(!(0,p.isHex)(e)){o=new n({result:e,url:l});continue}return e}catch(e){o=new i.HttpRequestError({body:u,details:e.message,url:l})}}throw o}}]);